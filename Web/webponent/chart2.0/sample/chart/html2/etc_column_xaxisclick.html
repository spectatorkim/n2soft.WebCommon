<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>CHART01</title>

	<script type="text/javascript" src="../../../lib/comm/jquery-1.11.3.min.js"></script>
	<script type="text/javascript" src="../../../lib/comm/raphael.js"></script>
	<script type="text/javascript" src="../../../lib/comm/webponent.comm.common.js"></script>

	
	<script type="text/javascript" src="../../../lib/chart/webponent.chart.js"></script>
	<script type="text/javascript" src="../../../lib/chart/webponent.chart.style.js"></script>
	<script type="text/javascript" src="./lib/webponent.test.js"></script>
	<link rel="stylesheet" href="../../layout/css/layout.css"/>

	<style type="text/css">
		.chart {width: 600px; height: 400px;}
	</style>
	<script type="text/javascript">
	var chart = null;
	var options = {
			data: {data:normalData},
			format: {
				xAxis: 'dayDataFormat',
				yAxis: 'priceDataFormat'
			},
			func: {
				tip: 'defaultTip'
			},
			use: {
				animate: false,
				aCrossLine: true,
                clickXAxis: true
			}
		};
		var styles = webponent.chart.styles.BASIC;
		var series = {
			"main": {
				"s0": {series: 'column', xaxis: 'Date', yaxis: 'Mprc'}
			}
		};

		var series2 = {
			"main": {
				"s1": {series: 'column', xaxis: 'Date', yaxis: 'Mprc'}
			}
		};
	window.onload = function(){
		
		chart = webponent.chart.init($('.chart'), options, styles, series);

		chart.xAxisClickEvent = function(value, element, allElement) {
            var idx = $(allElement).index($(element));

            allElement.attr({
                'fill': '#000'
            });
            element.attr({
                'fill': '#ff0000'
            });
        };
		
	};

	function click(x,y){
	    var ev = document.createEvent("MouseEvent");
	    var el = document.elementFromPoint(x,y);
	    ev.initMouseEvent(
	        "click",
	        true /* bubble */, true /* cancelable */,
	        window, null,
	        x, y, 0, 0, /* coordinates */
	        false, false, false, false, /* modifier keys */
	        0 /*left*/, null
	    );
	    el.dispatchEvent(ev);
	}

	

	function onChangeStyle(styles) {
		$(document).off().on('click', function(e) {
			
			var div = $('<div>');
				div.css({
					width: '10px',
					height: '10px',
					background: '#000',
					position: 'absolute',
					top: e.screenY,
					left: e.screenX,
					zIndex: 10000
				});

			$('body').append(div);
			
		});
		click(227, 583);
	}
	</script>
</head>
<body>
	<div class="wrapper">
		<h1>COLUMNSERIES</h1>
		<h2>X-Axis text Click</h2>
		<input type="hidden" id="SVGHIDDEN" value=""/>
		<div >
			<div class="ctrlBox">
			</div>
			
		</div>
	</div>
	<div class="chart"></div>
	<div>
		<h3>수동으로 테스트</h3>
		<ul style="list-style: decimal">
			<li>X축의 라벨을 클릭한다.</li>
			<li>클릭한 라벨은 <span style="color: red">빨간색</span>으로 변경된다.</li>
			<li>클릭하지 않은 다른 x축 라벨은 원래의 색으로 돌아온다.</li>
		</ul>
	</div>
</body>
</html>
