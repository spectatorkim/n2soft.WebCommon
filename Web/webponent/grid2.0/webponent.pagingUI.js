(function(){var m={};var a={WRAPPER:"WEBPONENT-PAGING-WRAPPER",A:"WEBPONENT-PAGING-A",SELECTED_A:"WEBPONENT-PAGING-A-SELECTED",LEFT:"WEBPONENT-PAGING-LEFT",RIGHT:"WEBPONENT-PAGING-RIGHT",START:"WEBPONENT-PAGING-START",END:"WEBPONENT-PAGING-END",DISABLED_LEFT:"WEBPONENT-PAGING-LEFT-DISABLED",DISABLED_RIGHT:"WEBPONENT-PAGING-RIGHT-DISABLED",DISABLED_START:"WEBPONENT-PAGING-START-DISABLED",DISABLED_END:"WEBPONENT-PAGING-END-DISABLED",TOTAL_COUNT:"WEBPONENT-PAGING-TOTAL-COUNT",TOTAL_COUNT_TEXT:"WEBPONENT-PAGING-TOTAL-COUNT-TEXT",};function i(){var n={option:{countPerPage:null,totalPageCount:null,totalCount:null,currentPageIndex:null,paginationCount:null,startPageListIndex:null}};return n;}function f(){var n={wrapper:null,a:[],left:null,right:null,start:null,end:null};return n;}var k={PAGE_SELECTED:"pageSelected",REFRESH_PPAGING_UI:"refreshPagingUI"};function j(o){var n=$(o.markup.wrapper);var p=o.settings.option.paginationCount;var t=o.settings.option.totalPageCount;var v=o.settings.option.totalCount;n.empty();var q=o.settings.option.startPageListIndex;if(t-q<p){p=t-q;}if(v!=null){var u=[];for(var r=0;r<p;r++){var s=$("<a>").addClass(a.A).text(r+1+q).data("page",r+q).attr({title:(r+q)+" 페이지 이동",href:"#"});s.on("click",function(x){x.preventDefault();});u.push(s[0]);}o.markup.a=u;n.append(u);}else{var w=$('<span style="margin-right: 10px;">').text("데이터가 없습니다");n.append(w);}l(o);h(o);b(o);}function l(o){var s=$(o.markup.wrapper);var q=$('<input type="button">').addClass(a.LEFT).val("left");var p=$('<input type="button">').addClass(a.RIGHT).val("right");var r=$('<input type="button">').addClass(a.START).val("start");var n=$('<input type="button">').addClass(a.END).val("end");o.markup.left=q[0];o.markup.right=p[0];o.markup.start=r[0];o.markup.end=n[0];s.prepend(o.markup.left);s.append(o.markup.right);s.prepend(o.markup.start);s.append(o.markup.end);c(o);}function c(p){var r=p.markup.left;var q=p.markup.right;var u=p.markup.start;var o=p.markup.end;var n=p.settings.option.paginationCount;var t=p.settings.option.totalPageCount;var s=p.settings.option.currentPageIndex;if(t%n!=0){n=t%n;}if(t==0){$(r).attr("disabled",true).addClass(a.DISABLED_LEFT);$(u).attr("disabled",true).addClass(a.DISABLED_START);$(q).attr("disabled",true).addClass(a.DISABLED_RIGHT);$(o).attr("disabled",true).addClass(a.DISABLED_END);}else{if(s==null){s=0;}if(s==0){$(r).attr("disabled",true).addClass(a.DISABLED_LEFT);}if(0<=s&&s<p.settings.option.paginationCount){$(u).attr("disabled",true).addClass(a.DISABLED_START);}if(s==t-1){$(q).attr("disabled",true).addClass(a.DISABLED_RIGHT);}if(t-n<=s){$(o).attr("disabled",true).addClass(a.DISABLED_END);}}}function h(p){var r=p.markup.left;var q=p.markup.right;var u=p.markup.start;var o=p.markup.end;var n=p.settings.option.paginationCount;var t=p.settings.option.totalPageCount;var s=p.markup.a;_.each(s,function(v,w,x){$(v).on("click",function(){p.settings.option.currentPageIndex=$(this).data("page");p.event.trigger(k.PAGE_SELECTED,p.settings.option.currentPageIndex);});});$(r).on("click",function(){var v=p.settings.option.startPageListIndex;if(v!=0){p.settings.option.startPageListIndex=v-n;p.settings.option.currentPageIndex=v-1;}else{p.settings.option.startPageListIndex=0;p.settings.option.currentPageIndex=0;}p.event.trigger(k.PAGE_SELECTED,p.settings.option.currentPageIndex);});$(q).on("click",function(){var v=p.settings.option.startPageListIndex;if(v+n<t){p.settings.option.startPageListIndex=v+n;p.settings.option.currentPageIndex=p.settings.option.startPageListIndex;}else{p.settings.option.currentPageIndex=t-1;}p.event.trigger(k.PAGE_SELECTED,p.settings.option.currentPageIndex);});$(u).on("click",function(){p.settings.option.startPageListIndex=0;p.settings.option.currentPageIndex=0;p.event.trigger(k.PAGE_SELECTED,p.settings.option.currentPageIndex);});$(o).on("click",function(){var v=p.settings.option.paginationCount;if(t%v!=0){v=t%v;}p.settings.option.startPageListIndex=t-v;p.settings.option.currentPageIndex=t-1;p.event.trigger(k.PAGE_SELECTED,p.settings.option.currentPageIndex);});}function b(p){var r=p.settings.option.currentPageIndex;if(r==null){r=0;}var q=p.settings.option.startPageListIndex;var o=r-q;var n=p.markup.a[o];$(n).addClass(a.SELECTED_A);}function e(n){n.event.on(k.PAGE_SELECTED,function(p,o){j(n);n.settings.option.pageSelected(n.settings.option);});n.event.on(k.REFRESH_PPAGING_UI,function(q,o){var p=n.settings.option.totalCount;$(n.markup.totalCountText).find("."+a.TOTAL_COUNT).text(p);});}function d(o,r,p){o.settings=i();o.markup=f();o.settings.option=_.extend(o.settings.option,p);o.settings.option.totalPageCount=Math.ceil(o.settings.option.totalCount/o.settings.option.countPerPage);var n=$("<div>").addClass(a.WRAPPER);o.markup.wrapper=n[0];var q=$('<span>전체 : <span class="'+a.TOTAL_COUNT+'">0</span>건</span>').addClass(a.TOTAL_COUNT_TEXT);o.markup.totalCountText=q[0];r.append(n);r.append(q);j(o);}function g(n){n.on=function(o,p){n.event.on(o,p);};n.refreshPagingUI=function(q){n.settings.option=_.extend(n.settings.option,q);if(n.settings.option.currentPageIndex===null){n.settings.option.currentPageIndex=0;n.settings.option.startPageListIndex=0;}else{var r=n.settings.option.currentPageIndex;var o=n.settings.option.paginationCount;var p=Math.floor(r/o)*o;n.settings.option.startPageListIndex=p;}n.settings.option.totalPageCount=Math.ceil(n.settings.option.totalCount/n.settings.option.countPerPage);n.event.trigger(k.REFRESH_PPAGING_UI,n.settings.option);j(n);};}m.init=function(p,o){var n={};n.event=$({});d(n,p,o);e(n);g(n);return n;};if(!window.webponent){window.webponent={};}window.webponent.pagingUI=m;})();